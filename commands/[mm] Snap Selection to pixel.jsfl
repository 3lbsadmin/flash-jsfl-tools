/** * Snaps selection to pixel *  * @author: Mediamonks - http://www.mediamonks.com * @author: Mark Knol  - http://blog.stroep.nl */ var doc = fl.getDocumentDOM();var selectedInstance;if (!doc) {	alert("Please open or create a flashfile.");} else {	SnapSelectionToPixel();}function SnapSelectionToPixel(){	if (!doc.selection || !doc.selection[0]) 	{			}	else	{		for each(var element in doc.selection)		{			snapPixels(element);		}	}}function snapPixels( element ) {		var oldx = element.x;	var oldy = element.y;		var newX;	var newY;		// oddly, more reliable than Math.round.	if ( element.x - Math.floor( element.x ) < .5 ) {				newX = Math.floor( element.x );			} else {		newX = Math.ceil( element.x );	}		if ( element.y - Math.floor( element.y ) < .5 ) {		newY = Math.floor( element.y );	} else {		newY = Math.ceil( element.y );	}		// Fix for the weird offset that flash applies to the element	element.x = newX;	element.x = element.x + (newX - element.x) * 2;		element.y = newY;	element.y = element.y + (newY - element.y) * 2;		if ( oldx - element.x != 0 || oldy - element.y != 0 ) {		return 1;	}	return 0;}